CREATE DATABASE b_skripsi;

USE b_skripsi;

CREATE TABLE events (
  id INT AUTO_INCREMENT PRIMARY KEY,
  title VARCHAR(255),
  start_date DATETIME NOT NULL,
  end_date DATETIME NOT NULL,
  description TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE Admin (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nama VARCHAR(255) NOT NULL,
    username VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL
);

CREATE TABLE Dosen (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nama VARCHAR(255) NOT NULL,
    nid VARCHAR(20) UNIQUE NOT NULL,
    fakultas VARCHAR(255) NOT NULL,
    bio TEXT,
    email VARCHAR(255) UNIQUE NOT NULL,
    username VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    gmeet VARCHAR(255)
);

CREATE TABLE Mahasiswa (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nama VARCHAR(255) NOT NULL,
    nim VARCHAR(20) UNIQUE NOT NULL,
    fakultas VARCHAR(255) NOT NULL,
    prodi VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    username VARCHAR(100) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    dosenid VARCHAR(20) NOT NULL
);

ALTER TABLE Mahasiswa
ADD CONSTRAINT fk_mahasiswa_dosenid
FOREIGN KEY (dosenid) REFERENCES Dosen(nid);

-- DATA MAHASISWA
INSERT INTO `mahasiswa` (`id`, `nama`, `nim`, `fakultas`, `prodi`, `email`, `username`, `password`, `dosenid`) VALUES
(1, 'joesa', '2310512139', 'awgesgsegsg', 'wfagesgseg', 'joesa@gmail.com', 'aaa', 'aaa', '25569');

-- DATA Dosen
INSERT INTO `dosen` (`id`, `nama`, `nid`, `fakultas`, `bio`, `email`, `username`, `password`, `gmeet`) VALUES
(1, 'roeja', '25569', 'akfafkaef', NULL, '', 'bbb', 'bbb', NULL);
